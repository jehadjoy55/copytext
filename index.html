<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <title>Joy ভাই - পাসওয়ার্ড দিয়ে লেখার পেজ</title>
  <style>
    body { background: #111; color: #fff; font-family: sans-serif; text-align: center; padding: 20px; }
    input, textarea, button {
      width: 90%; max-width: 500px;
      padding: 12px; margin: 10px;
      font-size: 18px; border: none; border-radius: 5px;
    }
    input, textarea { background: #333; color: #fff; }
    button { background: #007bff; color: #fff; cursor: pointer; }
    .error { color: yellow; }
  </style>
</head>
<body>
  <h2>Joy ভাই - পাসওয়ার্ড দিয়ে লেখা দিন</h2>
  <input id="pass" type="password" placeholder="পাসওয়ার্ড দিন"><br>
  <textarea id="text" rows="5" placeholder="আপনার লেখাটি লিখুন..."></textarea><br>
  <button onclick="send()">পাঠান</button>
  <p id="msg" class="error"></p>

  <script>
    const token = "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";
    const correctPass = "joy123";
    const repo = "copytext";
    const user = "jehadjoy55";

    async function send() {
      const pass = document.getElementById("pass").value;
      const text = document.getElementById("text").value;
      const msg = document.getElementById("msg");

      if (pass !== correctPass) {
        msg.innerText = "❌ ভুল পাসওয়ার্ড!";
        return;
      }

      msg.innerText = "⏳ পাঠানো হচ্ছে...";

      const content = {
        text: text,
        time: new Date().toLocaleString()
      };

      const encoded = btoa(JSON.stringify(content, null, 2));

      const res = await fetch(`https://api.github.com/repos/${user}/${repo}/contents/text.json`, {
        method: "PUT",
        headers: {
          "Content-Type": "application/json",
          "Authorization": `token ${token}`
        },
        body: JSON.stringify({
          message: "Text Updated",
          content: encoded,
          sha: await getSHA()
        })
      });

      const data = await res.json();
      if (data.content) {
        msg.innerText = "✅ সফলভাবে পাঠানো হয়েছে!";
      } else {
        msg.innerText = "❌ ভুল হয়েছে!";
      }
    }

    async function getSHA() {
      const res = await fetch(`https://api.github.com/repos/${user}/${repo}/contents/text.json`);
      const data = await res.json();
      return data.sha;
    }
  </script>
</body>
</html>
